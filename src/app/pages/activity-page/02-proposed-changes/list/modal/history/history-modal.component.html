<!-- Modal Wrapper -->
<div class="modal-dialog" style="max-width: 95vw; width: 100%;">
    <div class="modal-content">
  
      <!-- Modal Header -->
      <div class="modal-header">
        <h5 class="modal-title">History</h5>
        <button type="button" class="btn-close" aria-label="Close" (click)="activeModal.dismiss('Cross click')"></button>
      </div>
  
      <!-- Modal Body -->
      <div class="modal-body" style="max-height: 75vh; overflow-y: auto;">
        <div *ngIf="loading" class="text-center my-4">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
        </div>
  
        <div *ngIf="!loading">
          <div *ngIf="historyData && historyData.length > 0; else noHistoryData">
  
            <!-- Table Responsive hanya scroll kalau butuh -->
            <div class="table-responsive" style="overflow-x: auto;">
              <table class="table table-bordered table-hover align-middle" style="width: 100%;">
                <thead class="table-light text-center">
                  <tr>
                    <th style="min-width: 300px;"><i class="ri-information-line me-1"></i>Description</th>
                    <th style="min-width: 180px;"><i class="ri-calendar-line me-1"></i>Date</th>
                    <th style="min-width: 250px;"><i class="ri-sticky-note-line me-1"></i>Note</th>
                    <th style="min-width: 180px;"><i class="ri-flag-line me-1"></i>Status</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of historyData">
                    <td>{{ item.description || 'No description available' }}</td>
                    <td>{{ item.created_date | date:'medium' }}</td>
                    <td>{{ item.note || 'No note available' }}</td>
                    <td>
                        <ng-container [ngSwitch]="item.status">
                            <span *ngSwitchCase="'submitted'" class="badge bg-primary text-white">
                              <i class="ri-upload-cloud-line me-1"></i> Submitted
                            </span>
                            <span *ngSwitchCase="'approved'" class="badge bg-success text-white">
                              <i class="ri-check-line me-1"></i> Approved
                            </span>
                            <span *ngSwitchCase="'updated'" class="badge bg-info text-white">
                              <i class="ri-edit-line me-1"></i> Updated
                            </span>
                            <span *ngSwitchCase="'not_approved'" class="badge bg-warning text-dark">
                              <i class="ri-time-line me-1"></i> Not Approved
                            </span>
                            <span *ngSwitchCase="'rejected'" class="badge bg-danger text-white">
                              <i class="ri-close-line me-1"></i> Rejected
                            </span>
                            <span *ngSwitchDefault class="badge bg-secondary text-white">
                              <i class="ri-question-line me-1"></i> Unknown
                            </span>
                          </ng-container>
                          
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
  
          <!-- No History -->
          <ng-template #noHistoryData>
            <div class="text-center py-4">
              <i class="ri-history-line fs-3 mb-2 text-muted"></i>
              <p class="text-muted">No history data available.</p>
            </div>
          </ng-template>
        </div>
      </div>
  
      <!-- Modal Footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="activeModal.close('Close click')">Close</button>
      </div>
  
    </div>
  </div>
  